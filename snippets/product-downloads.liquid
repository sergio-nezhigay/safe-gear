{% comment %}
  Renders product downloads/user manuals section

  Accepts:
  - product: {Object} Product object

  Usage:
  {% render 'product-downloads', product: product %}
{% endcomment %}

{% liquid
  assign user_manuals = product.metafields.custom.user_manuals.value
%}

{% if user_manuals != blank %}
  <div class="product-downloads">
    <h3 class="product-downloads__heading">{{ 'products.downloads.title' | t | default: 'Downloads' }}</h3>
    <ul class="product-downloads__list">
      {% for file in user_manuals %}
        <li class="product-downloads__item">
          <a href="{{ file.url }}" class="product-downloads__link" download target="_blank" rel="noopener noreferrer">
            <svg class="product-downloads__icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#E53E3E"/>
              <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 18V12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 15L12 18L15 15" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="product-downloads__text">
              {{ file.alt | default: 'User manual' }}
            </span>
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endif %}
