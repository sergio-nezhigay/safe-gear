{%- doc -%}
  Renders a default variant picker, used to display the variant picker in the variants block.

  @param {object} product_resource - The product object.
  @param {object} [block] - The block object
{%- enddoc -%}

{% assign block_settings = block.settings %}

{% unless product_resource.has_only_default_variant %}
  {% liquid
    if block_settings.color_scheme.settings.foreground
      assign button_background_brightness = block_settings.color_scheme.settings.foreground | color_brightness
    else
      assign button_background_brightness = 128
    endif
    if button_background_brightness < 105
      assign strikethrough_color_mix = '#000'
    else
      assign strikethrough_color_mix = '#fff'
    endif
  %}

  <variant-picker
    class="variant-picker spacing-style variant-picker--{{ block_settings.alignment }}"
    style="--color-strikethrough-mix: {{ strikethrough_color_mix }}; {% render 'spacing-style', settings: block_settings %}"
    data-section-id="{{ section.id | default: block.id }}"
    data-product-id="{{ product_resource.id }}"
    data-block-id="{{ block.id }}"
    data-product-url="{{ product_resource.url }}"
    ref="mainVariantPicker"
    {% if product.id == product_resource.id %}
      data-template-product-match="true"
    {% endif %}
    {{ block.shopify_attributes }}
    {% if request.visual_preview_mode %}
      data-shopify-visual-preview
    {% endif %}
  >
    <form class="variant-picker__form">
      {%- for product_option in product_resource.options_with_values -%}
        {%- liquid
          assign swatch_count = product_option.values | map: 'swatch' | compact | size
          assign variant_style = block_settings.variant_style

          # Визначаємо чи це опція кольору (підтримка різних мов)
          assign is_color_option = false
          assign option_name_lower = product_option.name | downcase
          if option_name_lower == 'color' or option_name_lower == 'colour' or option_name_lower == 'farve' or option_name_lower == 'колір'
            assign is_color_option = true
          endif

          # Визначаємо чи це опція замка (підтримка різних мов)
          assign is_lock_option = false
          if option_name_lower == 'lock' or option_name_lower == 'lås' or option_name_lower == 'замок' or option_name_lower contains 'lock' or option_name_lower contains 'lås'
            assign is_lock_option = true
          endif

          # Detect frame type options (support multiple languages)
          assign is_frame_option = false
          if option_name_lower == 'frame type' or option_name_lower == 'rammetype' or option_name_lower contains 'frame' or option_name_lower contains 'ramme'
            assign is_frame_option = true
          endif

          if swatch_count > 0 and block_settings.show_swatches
            if block_settings.variant_style == 'dropdown'
              assign variant_style = 'swatch_dropdown'
            else
              assign variant_style = 'swatch'
            endif
          endif

          if variant_style == 'buttons' and settings.variant_button_width == 'equal-width-buttons'
            assign fieldset_id = block.id | append: '-' | append: product_resource.id | append: '-' | append: product_option.name | handleize
            assign option_id_attribute = 'data-option-id="' | append: fieldset_id | append: '"'
            assign longest_value = 0
          endif
        -%}

        {%- if variant_style == 'swatch' or block_settings.variant_style == 'buttons' -%}
          <fieldset
            class="variant-option variant-option--buttons{% if variant_style == 'swatch' %} variant-option--swatches{% else %} variant-option--{{ settings.variant_button_width }}{% endif %}"
            {{ option_id_attribute }}
          >
            <legend>
              {{ product_option.name | escape -}}
              {%- if variant_style == 'swatch' or is_color_option or is_lock_option or is_frame_option -%}
                :<span class="variant-option__swatch-value">{{ product_option.selected_value }}</span>
              {%- endif %}
            </legend>
            {%- for product_option_value in product_option.values -%}
              {% if product_option_value.size > longest_value and option_id_attribute %}
                {% assign longest_value = product_option_value.size %}
              {% endif %}
              <label class="variant-option__button-label{% if variant_style == 'swatch' %} variant-option__button-label--has-swatch{% endif %}{% if is_lock_option or is_frame_option %} variant-option__button-label--lock{% endif %}">
                <input
                  type="radio"
                  name="{{ product_option.name | escape }}-{{ block.id }}-{{ product_resource.id }}"
                  value="{{ product_option_value | escape }}"
                  aria-label="{{ product_option_value.name }}"
                  {% if product_option_value.available == false %}
                    aria-disabled="true"
                  {% endif %}
                  data-input-id="{{ product_option.position }}-{{ forloop.index0 }}"
                  data-option-value-id="{{ product_option_value.id }}"
                  data-option-available="{{ product_option_value.available }}"
                  data-connected-product-url="{{ product_option_value.product_url }}"
                  {% if product_option_value.variant.id %}
                    data-variant-id="{{ product_option_value.variant.id }}"
                  {% endif %}
                  {% if product_option_value.selected %}
                    checked
                  {% endif %}
                >
                {% if variant_style == 'swatch' %}
                  {% liquid
                    assign featured_media = product_option_value.variant.featured_media

                    # If the variant has no featured media, and we have a combined listing product, then fall back to
                    # using the featured media of the child product that is linked to this option value.
                    if featured_media == blank and product_option_value.product_url
                      assign featured_media = product_option_value.variant.product.featured_media
                    endif
                  %}

                  {% render 'swatch',
                    swatch: product_option_value.swatch,
                    variant_image: featured_media,
                    mode: 'unscaled'
                  %}
                {% else %}
                  {% liquid
                    assign has_swatch = false
                    assign has_lock_image = false
                    assign lock_image_url = ''

                    # Check for regular swatches first
                    if product_option_value.swatch
                      assign has_swatch = true
                    endif

                    # Check for lock images in metafields
                    if product_resource.metafields.custom.lock_type_test.value
                      for type_lock in product_resource.metafields.custom.lock_type_test.value
                        # Create mapping between Danish variant names and English metafield names
                        assign match_found = false

                        # Direct match first
                        if product_option_value == type_lock.name
                          assign match_found = true
                        endif

                        # Danish to English mapping
                        if product_option_value == 'Nøglelås' and type_lock.name == 'Key lock'
                          assign match_found = true
                        endif

                        if product_option_value == 'Kodelås med 1 brugerkode (S&G Spartan)' and type_lock.name == 'Code lock with 1 user code (S&G Spartan)'
                          assign match_found = true
                        endif

                        if product_option_value == 'Kodelås med nødnøgle og 90 brugerkoder (Combi B90)' and type_lock.name == 'Code lock with emergency key and 90 user codes (Combi B90)'
                          assign match_found = true
                        endif

                        if match_found
                          assign lock_image_url = type_lock.image | image_url: width: 80
                          assign has_lock_image = true
                          break
                        endif
                      endfor
                    endif

                    # Check for frame type images in metafields
                    if product_resource.metafields.custom.frame_type.value
                      for type_frame in product_resource.metafields.custom.frame_type.value
                        assign frame_match_found = false

                        # Convert variant option value to handle format for matching
                        # "Corner Frame" -> "corner-frame"
                        assign option_handle = product_option_value | handleize

                        # Match using system.handle
                        if option_handle == type_frame.system.handle
                          assign frame_match_found = true
                        endif

                        if frame_match_found
                          assign lock_image_url = type_frame.picture | image_url: width: 80
                          assign has_lock_image = true
                          break
                        endif
                      endfor
                    endif
                  %}

                  {% if has_swatch %}
                    {% render 'swatch', swatch: product_option_value.swatch %}
                  {% elsif has_lock_image %}
                    <span
                      class="variant-lock-image"
                      style="background-image: url('{{ lock_image_url }}'); background-size: contain; background-position: center; background-repeat: no-repeat;"
                      data-image-url="{{ lock_image_url }}"
                    ></span>
                  {% else %}
                    <span class="variant-option__button-label__text">{{ product_option_value | escape }}</span>
                  {% endif %}
                {% endif %}
                {% render 'strikethrough-variant', product_option: product_option_value %}
              </label>
            {%- endfor -%}
            {% if option_id_attribute %}
              {% style %}
                [data-option-id="{{ fieldset_id }}"] {
                  --variant-ch: {{ longest_value }}ch;
                }
              {% endstyle %}
            {% endif %}
          </fieldset>
        {%- elsif block_settings.variant_style == 'dropdowns' -%}
          {%
            # There is an opportunity to build a custom select component that will allow us to style the select element further (animation for dropdown, swatches shown in the dropdown options, etc)
            # It's too bad as it mean rebuilding baked in behaviours but I think we've already done that for the locale selectors
            # in dawn. So it might mean more time spent in setting it up but worth it for future updates/styling.
          %}
          {% liquid
            assign property_being_updated = false
            if settings.variant_swatch_width != settings.variant_swatch_height
              assign property_being_updated = true
              # (original width / original height) x new height (20px at the moment) = new width
              assign new_width = settings.variant_swatch_width | times: 1.0 | divided_by: settings.variant_swatch_height | times: 20
            endif
          %}

          <div class="variant-option variant-option--dropdowns">
            <label for="Option-{{ block.id }}-{{ forloop.index0 }}">{{ product_option.name | escape }}</label>
            <div
              class="variant-option__select-wrapper"
              style="
                {%- if property_being_updated  -%}
                  --variant-picker-swatch-width: clamp(10px,{{ new_width }}px, 50px);
                {%- endif -%}
              "
            >
              <select
                id="Option-{{ block.id }}-{{ forloop.index0 }}"
                name="options[{{ product_option.name | escape }}]"
                class="variant-option__select"
              >
                {%- for product_option_value in product_option.values -%}
                  <option
                    value="{{ product_option_value | escape }}"
                    data-input-id="{{ product_option.position }}-{{ forloop.index0 }}"
                    data-option-value-id="{{ product_option_value.id }}"
                    data-variant-id="{{ product_option_value.variant.id }}"
                    data-connected-product-url="{{ product_option_value.product_url }}"
                    {% if product_option_value.selected %}
                      selected="selected"
                    {% endif %}
                  >
                    {% if product_option_value.available == false %}
                      {{ product_option_value | escape }} - {{ 'content.unavailable' | t }}
                    {% else %}
                      {{ product_option_value | escape }}
                    {% endif %}
                  </option>
                {%- endfor -%}
              </select>
              <svg
                aria-hidden="true"
                focusable="false"
                class="icon icon-caret"
                viewBox="0 0 6 10"
              >
                {%- render 'icon', icon: 'caret' -%}
              </svg>
            </div>
          </div>
        {%- endif -%}
      {%- endfor -%}

      <script type="application/json">
        {{- product_resource.selected_or_first_available_variant | json -}}
      </script>
      <script type="application/json" data-variant-metafields>
        {
          "custom": {
            {%- assign variant_custom_metafields = product_resource.selected_or_first_available_variant.metafields.custom -%}
            {%- assign first_item = true -%}
            {%- for metafield_entry in variant_custom_metafields -%}
              {%- assign metafield_key = metafield_entry[0] -%}
              {%- assign metafield_value = metafield_entry[1] -%}
              {%- if metafield_value != blank -%}
                {%- unless first_item -%},{%- endunless -%}
                {%- assign first_item = false -%}
            "{{ metafield_key }}": {
              {%- if metafield_value.type == 'dimension' or metafield_value.type == 'weight' or metafield_value.type == 'volume' -%}
              "type": "{{ metafield_value.type }}",
              "value": {
                "value": {{ metafield_value.value.value }},
                "unit": "{{ metafield_value.value.unit }}"
              }
              {%- else -%}
              "type": "{{ metafield_value.type }}",
              "value": {{ metafield_value.value | json }}
              {%- endif -%}
            }
              {%- endif -%}
            {%- endfor -%}
          }
        }
      </script>
    </form>
  </variant-picker>
{% endunless %}

{% stylesheet %}
  .variant-picker {
    width: 100%;
  }

  .variant-picker__form {
    display: flex;
    flex-direction: column;
    gap: var(--padding-lg);
    width: 100%;
    font-family: Assistant, sans-serif;
  }

  .variant-picker[data-shopify-visual-preview] {
    min-width: 300px;
    padding-inline-start: max(4px, var(--padding-inline-start));
  }

  .variant-option {
    --options-border-radius: var(--variant-picker-button-radius);
    --options-border-width: var(--variant-picker-button-border-width);
    --variant-option-padding-inline: var(--padding-md);
  }

  .variant-option--swatches {
    --options-border-radius: var(--variant-picker-swatch-radius);
    width: 100%;
  }

  .variant-option--swatches-disabled {
    pointer-events: none;
    cursor: not-allowed;
  }

  .variant-option--swatches > overflow-list {
    justify-content: var(--product-swatches-alignment);

    @media (max-width: 749px) {
      justify-content: var(--product-swatches-alignment-mobile);
    }
  }

  .variant-option--buttons {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gap-sm);
    margin: 0;
    padding: 0;
    border: none;
  }

  .variant-option--buttons legend {
    padding: 0;
    margin-block-end: var(--margin-xs);
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
    overflow: hidden;
    color: var(--color-text-default);
    font-size: 22px;
    font-weight: 400;
  }

  .variant-option__swatch-value {
    padding-inline-start: var(--padding-xs);
    color: var(--color-text-default);
    font-size: 16px;
    font-family: 'Assistant', sans-serif;
  }

  .variant-option__button-label {
    max-width: fit-content !important;
    --variant-picker-stroke-color: var(--color-variant-border);

    display: flex;
    flex: 0 0 calc(3ch + 1.3em);
    align-items: center;
    position: relative;
    padding-block: var(--padding-sm);
    padding-inline: var(--padding-lg);
    border: var(--style-border-width) solid var(--color-variant-border);
    border-radius: var(--options-border-radius);
    border-width: var(--options-border-width);
    overflow: clip;
    justify-content: center;
    min-height: calc(3ch + 1.3em);
    min-width: fit-content;
    white-space: nowrap;
    background-color: var(--color-variant-background);
    color: var(--color-variant-text);
    transition: background-color var(--animation-speed) var(--animation-easing),
      border-color var(--animation-speed) var(--animation-easing);

    &:hover {
      background-color: var(--color-variant-hover-background);
      border-color: var(--color-variant-hover-border);
      color: var(--color-variant-hover-text);
      cursor: pointer;
    }

    @media screen and (min-width: 750px) {
      padding: var(--padding-xs) var(--variant-option-padding-inline);
    }
  }

  .variant-option__button-label__text {
    text-align: left;
    text-wrap: auto;
  }

  .variant-option--equal-width-buttons {
    --variant-min-width: clamp(44px, calc(var(--variant-option-padding-inline) * 2 + var(--variant-ch)), 100%);

    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--variant-min-width), 1fr));

    .variant-option__button-label {
      min-width: var(--variant-min-width);
    }

    .variant-option__button-label__text {
      text-align: center;
      text-wrap: balance;
    }
  }

  /* Override grid layout for color swatches to maintain circular shape */
  .variant-option--equal-width-buttons:has(.variant-option__button-label .swatch) {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gap-sm);
    grid-template-columns: none;
  }

  /* Override grid layout for lock buttons to show in a row */
  .variant-option--equal-width-buttons:has(.variant-option__button-label .variant-lock-image) {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gap-sm);
    grid-template-columns: none;
  }

  .variant-option--equal-width-buttons .variant-option__button-label:has(.swatch) {
    min-width: fit-content;
    max-width: fit-content;
  }

  .variant-option--equal-width-buttons .variant-option__button-label:has(.variant-lock-image) {
    min-width: auto;
    max-width: none;
    width: 100%;
    flex: 0 0 auto;
    border: 1px solid lightgrey;
  }

  .variant-lock-image {
    width: 83px !important;
    height: 83px !important;
  }

  .variant-option__button-label:has(:focus-visible) {
    --variant-picker-stroke-color: var(--color-foreground);

    border-color: var(--color-foreground);
    outline: var(--focus-outline-width) solid var(--color-foreground);
    outline-offset: var(--focus-outline-offset);
  }

  .variant-option__button-label--has-swatch {
    --focus-outline-radius: var(--variant-picker-swatch-radius);

    padding: 0;
    border: none;
    display: block;
    flex-basis: auto;
    min-height: auto;
  }

  .variant-option__button-label:has(:checked) {
    color: var(--color-selected-variant-text);
    background-color: yellow;

    background-color: green;
    transition: background-color var(--animation-speed) var(--animation-easing),
      border-color var(--animation-speed) var(--animation-easing);

    &:hover {
      background-color: var(--color-selected-variant-hover-background);
      border-color: blue;
      background-color: green;
      color: var(--color-selected-variant-hover-text);
    }
  }

  /* Lighter border for selected lock variants */
  .variant-option__button-label--lock:has(:checked) {
    border-width: 1px;
    border-color: var(--color-price-text);
  }

  .variant-option__button-label:has([data-option-available='false']) {
    color: rgb(var(--color-variant-text-rgb) / var(--opacity-60));
  }

  .facets__inputs-list--swatches-grid .variant-option__button-label--has-swatch:hover .swatch {
    --focus-outline: var(--focus-outline-width) solid rgb(var(--color-foreground-rgb) / var(--opacity-35-55));

    outline: var(--focus-outline);
    outline-offset: var(--focus-outline-offset);
  }

  .facets__inputs-list--swatches-grid .variant-option__button-label:has(:focus-visible) .swatch {
    --focus-outline: var(--focus-outline-width) solid currentcolor;

    outline: var(--focus-outline);
    outline-offset: var(--focus-outline-offset);
  }

  .facets__inputs-list--swatches-grid .variant-option__button-label:has(:focus-visible) {
    outline: none;
  }

  .facets__inputs-list--swatches-grid .variant-option__button-label--has-swatch:hover {
    outline: none;
  }

  .variant-option__button-label--has-swatch:hover {
    outline: var(--focus-outline-width) solid rgb(var(--color-foreground-rgb) / var(--opacity-35-55));
    outline-offset: var(--focus-outline-offset);
  }

  .facets__inputs-list--swatches-grid .variant-option__button-label--has-swatch:has(:checked) {
    --focus-outline: none;
  }

  .facets__inputs-list--swatches-grid .variant-option__button-label--has-swatch:has(:checked) .swatch {
    outline: var(--focus-outline);
    outline-offset: var(--focus-outline-offset);
  }

  .variant-option__button-label--has-swatch:has(:checked) {
    --focus-outline: var(--focus-outline-width) solid var(--color-foreground);

    outline: var(--focus-outline);
    outline-offset: var(--focus-outline-offset);
  }

  /* This triggers iOS < 16.4. The outline bug is not recognized as a lack of @supports */
  @supports not (background-color: rgb(from red 150 g b / alpha)) {
    /** There is a bug in safari < 16.4 that causes the outline to not follow the elements border radius. This is a workaround. **/
    .variant-option__button-label--has-swatch:has(:checked),
    .variant-option__button-label:has(:focus-visible) .swatch,
    .facets__inputs-list--swatches-grid .variant-option__button-label--has-swatch:hover .swatch {
      outline: none;
      position: relative;
      overflow: visible;
    }

    .variant-option__button-label--has-swatch:has(:checked)::after,
    .variant-option__button-label:has(:focus-visible) .swatch::after,
    .facets__inputs-list--swatches-grid .variant-option__button-label--has-swatch:hover .swatch::after {
      content: '';
      position: absolute;
      inset: calc(-1 * var(--focus-outline-offset));
      border: var(--focus-outline);
      border-radius: var(--focus-outline-radius, 50%);
      background-color: transparent;
      display: inherit;
    }
  }

  .variant-option__button-label:has([data-option-available='false']):has(:checked) {
    --variant-picker-stroke-color: rgb(var(--color-variant-text-rgb) / var(--opacity-60));

    background-color: inherit;
    color: rgb(var(--color-variant-text-rgb) / var(--opacity-60));
    border-color: rgb(22, 243, 59);
  }

  .variant-option__button-label input,
  .variant-option--images input {
    position: absolute;
    inset: 0;
    opacity: 0;
    margin: 0;
    cursor: pointer;
    width: 100%;
    height: 100%;
  }

  .variant-option__button-label svg {
    display: none;
  }

  .variant-option__select-wrapper {
    display: flex;
    position: relative;
    border: var(--style-border-width-inputs) solid var(--color-border);
    border-radius: var(--style-border-radius-inputs);
    align-items: center;
    margin-top: var(--margin-2xs);
    overflow: clip;
    transition: background-color var(--animation-speed) var(--animation-easing),
      border-color var(--animation-speed) var(--animation-easing);
  }

  .variant-option__select-wrapper:has(.swatch) {
    --variant-picker-swatch-width: 20px;
    --variant-picker-swatch-height: 20px;
  }

  .variant-option__select-wrapper:hover {
    border-color: var(--color-variant-hover-border);
  }

  .variant-option__select:focus-visible {
    outline: var(--focus-outline-width) solid currentcolor;
    outline-offset: var(--focus-outline-offset);
  }

  .variant-option__select {
    padding-block: var(--padding-md);
    padding-inline: var(--padding-lg) calc(var(--padding-lg) + var(--icon-size-2xs));
    appearance: none;
    border: 0;
    width: 100%;
    margin: 0;
    cursor: pointer;
  }

  .variant-option__select-wrapper .icon {
    position: absolute;
    right: var(--padding-md);
    top: 50%;
    transform: translateY(-50%);
    width: var(--icon-size-2xs);
    height: var(--icon-size-2xs);
    pointer-events: none;
  }

  .variant-option__select--has-swatch {
    padding-inline-start: calc((2 * var(--padding-sm)) + var(--variant-picker-swatch-width));
  }

  .variant-option__select-wrapper .swatch {
    position: absolute;
    top: 50%;
    left: var(--padding-md);
    transform: translateY(-50%);
  }

  .variant-picker--center,
  .variant-picker--center .variant-option {
    text-align: center;
    align-items: center;
    justify-content: center;
    width: 100%;
  }

  .variant-picker--right,
  .variant-picker--right .variant-option {
    text-align: right;
    justify-content: right;
  }

  /* Styles for variant images - Square 83x83 format */
  .variant-lock-image {
    --lock-image-width: 83px;
    --lock-image-height: 83px;
    width: var(--lock-image-width);
    height: var(--lock-image-height);
    display: inline-block;
    border-radius: 8px;
    border: 1px solid rgba(var(--color-foreground-rgb), 0.2);
    flex-shrink: 0;
    transition: all 0.2s ease;
  }

  .variant-option__button-label:has(.variant-lock-image) {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
  }

  .variant-option__button-label:has(.variant-lock-image) .variant-option__button-label__text {
    font-size: 0.875rem;
    line-height: 1.2;
    flex: 1;
  }

  /* Color buttons - round 40px format for Color options only */
  /*Ховаємо текст у свотчах з кольорами */
  .variant-option__button-label:has(.swatch) .variant-option__button-label__text {
    display: none;
  }

  .variant-option__button-label:has(.swatch) .swatch {
    --swatch-width: 40px;
    --swatch-height: 40px;
    border-radius: 50%;
    flex-shrink: 0;
    border: 1px solid transparent;
    transition: all 0.2s ease;
  }

  .variant-option__button-label:has(.swatch) {
    min-height: auto;
    padding: 1px;
    border: 1px solid transparent;
    background: transparent;
    border-radius: 50%;
    width: fit-content;
    height: fit-content;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .variant-option__button-label:has(.swatch):has(:checked) {
    background-color: transparent !important;
  }

  /* Simple active/selected state for color swatches */
  .variant-option__button-label:has(.swatch):has(:checked) {
    border-color: #16f33b;
    border-width: 1px;
    position: relative;
  }

  .variant-option__button-label:has(.swatch):has(:checked) .swatch {
    border: 1px solid transparent;
    position: relative;
  }

  /* Simple checkmark icon for selected color swatches */
  .variant-option__button-label:has(.swatch):has(:checked) .swatch::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 16px;
    font-weight: bold;
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
  }

  /* Modern hover state for unselected color swatches */
  .variant-option__button-label:has(.swatch):hover:not(:has(:checked)) .swatch {
    transform: scale(1.1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  /* Simple focus state for color swatches */
  .variant-option__button-label:has(.swatch):has(:focus-visible) {
    outline: 2px solid #333;
    outline-offset: 2px;
  }

  /* Hover and selected states for lock images */
  .variant-option__button-label:has(.variant-lock-image):hover .variant-lock-image {
    border-color: var(--color-variant-hover-border);
    transform: scale(1.05);
  }

  .variant-option__button-label:has(.variant-lock-image):has(:checked) .variant-lock-image {
    border-color: #16f33b;
  }

  .variant-option__button-label--lock {
    padding: 0 !important;
  }

  .variant-option__button-label--lock:has(:checked) {
    border-color: var(--color-price-text) !important;
    outline: none !important;
    box-shadow: none !important;
  }
{% endstylesheet %}
