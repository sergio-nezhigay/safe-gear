{% comment %}
  Custom Tax Exempt Section
  - Читає VAT ID з customer.metafields.bss_b2b.vat_id (якщо BSS його зберігає)
  - Читає customer.tags (шукає тег tax_exempt)
  - Додає VAT ID в order attributes, щоб зберегти в замовленні
{% endcomment %}

<style>
.shopify-block shopify-app-block-main{
}
</style>
<div id="shopify-block-AVmV3akd6SVQrRVhnY__bss_b2b_solution_te_mA97rU" class="shopify-block shopify-app-block shopify-block shopify-app-block-main">











 
  
    
      
    
  



  <div class="bss-b2b-tax-ex-wrapper bss-config-header" show-wrapper="1">
<a href='#'>Add VAT number</a>
<input placeholder="Email" type="email" class="bss-b2b-vat-input">

    <div class="bss-b2b-vat-input-wrapper">
      <select name="bss-b2b-vat-selected" class="bss-b2b-vat-selected">
         <option value="0">EU</option> 
         <option value="1">UK</option> 
        
        
        
      </select>
      <input placeholder="Vat number" type="text" name="bss-b2b-eu-tax" class="bss-b2b-vat-input">
    </div>
    <div class="bss-b2b-tax-ex-message">
      <p class="bss-b2b-tax-invalid">
        <span class="tax-icon-error">✕</span>
        <span class="tax-message tax-error-message">
            <span class="bss-b2b-translation-vat-form_error_message">Please enter a valid EU VAT ID (e.g. DK123..., FR123...)</span>
            <span class="bss-b2b-translation-vat-form_error_message_uk">Please enter a valid UK VAT Registration Number</span>
            <span class="bss-b2b-translation-vat-form_error_message_abn">Please enter a valid ABN Registration Number</span>
            <span class="bss-b2b-translation-vat-form_error_message_gst">Please enter a valid India GST Identification Number</span>
            <span class="bss-b2b-translation-vat-form_error_message_us_ein">Please enter a valid US EIN Number.</span>
            <span class="bss-b2b-translation-vat-form_validate_country_code_message">Your country is not eligible for VAT Exemption in this store.</span>
        </span>
      </p>
      <p class="bss-b2b-tax-valid">
        <span class="tax-icon-success">✓</span>
        <span class="tax-message tax-success-message">
            <span class="bss-b2b-translation-vat-form_success_message">Your VAT ID has been successfully validated.</span>
            <span class="bss-b2b-translation-vat-form_success_message_uk">Your UK VAT Registration Number has been successfully validated.</span>
            <span class="bss-b2b-translation-vat-form_success_message_abn">Your ABN Registration Number has been successfully validated.</span>
            <span class="bss-b2b-translation-vat-form_success_message_gst">Your India GST Identification Number has been successfully validated.</span>
            <span class="bss-b2b-translation-vat-form_success_message_us_ein">Your EIN Number has been successfully validated.</span>
        </span>
      </p>
    </div>
  </div>

  <script>
    BSS_B2B.te_appblocks_enable = true;
    BSS_B2B.te_new_version = true;
    document.querySelectorAll(".bss-b2b-tax-ex-wrapper:not(.bss-config-header)").forEach(item => {
      item.remove()
    })
  </script>
  
  
  <style>
    .bss-b2b-product-vat {
      
    }

    .bss-b2b-tax-invalid {      
      color: #FF0000;
    } 
    .bss-b2b-tax-valid {
      color:#00FF00;
    }
    .tax-icon-error {
      color: #FF0000;
      border: 1px #FF0000 solid;
    }
    .tax-icon-success {
      color:#00FF00; 
      border: 1px#00FF00 solid;
      
    }
    .bss-b2b-translation-vat-form_subtitle_text {
      color:#000;
    }
    .bss-b2b-translation-vat-form_header_text {
      color:#000;
    }

    .bss-config-header {
      display: none;
    }
    
  </style>


</div>

{% schema %}
{
  "name": "Section verify",
  "settings": [],
  "presets": [
    {
        "name": "Section verify"
    }
  ]
}
{% endschema %}