{{ 'section-configuration.css' | asset_url | stylesheet_tag }}

<section class="product_infomt page-width">
  {% if product.metafields.custom.configurations.value != blank %}
    {% if section.settings.heading != blank %}
      <div class="table-heading_ title title-wrapper--no-top-margin inline-richtext h1 scroll-trigger animate--slide-in">
        {{section.settings.heading}}
      </div>
    {% endif %}
  {% endif %}
  <div class="container-accordion-configuration">
    {% for accordion in product.metafields.custom.configurations.value %}
      <div>
        <div class="container-title-configuration">
          {{ accordion.title }} 
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 9l6 6 6-6" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class='container-configuration-content'>
          <div class="container-configuration-content-product"> 
            <a class="main-link-product-configuration" href='{{ accordion.product.value.url }}'>
              {{ accordion.product.value.featured_image | image_url: width: accordion.product.value.featured_image.width | image_tag: class: "image-main-configuration" }}
            </a>
            <div class="container-configuration-content-text">
              <div class="container-configuration-content-main-text">
                <label class="product-configuration-label">
                  <input
                    type="checkbox"
                    name="selected_configurations[]"
                    value="{{ accordion.product.value.variants[0].id }}" 
                    class="product-configuration-checkbox"
                  >
                  <h2 class="product-configuration-title">{{ accordion.product.value.title }}</h2>
                </label>
                <p class="product-configuration-price">{{accordion.product.value.price  | money }}</p>
              </div>
              <p class="product-configuration-sku">{{ accordion.product.value.variants[0].sku }}</p>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</section>

<script src="{{ 'section-configuration.js' | asset_url }}" defer="defer"></script>

{% schema %}
{
  "name": "Section configuration",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Title",
    },
  ],
  "presets": [
    {
      "name": "Section configuration",
      "category": "Text"
    }
  ]
}
{% endschema %}